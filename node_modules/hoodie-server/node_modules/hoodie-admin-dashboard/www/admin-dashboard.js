!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(d){!function(a){if("object"==typeof c)b.exports=a();else if("function"==typeof define&&define.amd)define(a);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof d?e=d:"undefined"!=typeof self&&(e=self),(e.Backbone||(e.Backbone={})).Router=a()}}(function(){return function b(c,d,e){function f(h,i){if(!d[h]){if(!c[h]){var j="function"==typeof a&&a;if(!i&&j)return j(h,!0);if(g)return g(h,!0);throw new Error("Cannot find module '"+h+"'")}var k=d[h]={exports:{}};c[h][0].call(k.exports,function(a){var b=c[h][1][a];return f(b?b:a)},k,k.exports,b,c,d,e)}return d[h].exports}for(var g="function"==typeof a&&a,h=0;h<e.length;h++)f(e[h]);return f}({1:[function(a,b){"use strict";var c=a("underscore"),d=a("backbone");c.extend(d.Router.prototype,{route:function(a,b,e){c.isRegExp(a)||(a=this._routeToRegExp(a)),c.isFunction(b)&&(e=b,b=""),e||(e=this[b]);var f=this,g=[],h=[];return c.each(f.before,function(a,b){g.push({filter:b,filterFn:a})}),c.each(f.after,function(a,b){h.push({filter:b,filterFn:a})}),d.history.route(a,function(i){function j(a,b){var d=a.shift();if(d){var g=c.isRegExp(d.filter)?d.filter:f._routeToRegExp(d.filter);if(g.test(i)){var h=c.isFunction(d.filterFn)?d.filterFn:f[d.filterFn];h.apply(f,[i,k,function(){j(a,b)}])}else j(a,b)}else b&&e.apply(f,k)}var k=f._extractParameters(a,i),l=c.clone(g),m=c.clone(h);j(l,!0),f.trigger.apply(f,["route:"+b].concat(k)),f.trigger("route",b,k),d.history.trigger("route",f,b,k),j(m)}),this}}),b.exports=d},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(a,b,c){"use strict";var d=a("./handlebars/base"),e=a("./handlebars/safe-string")["default"],f=a("./handlebars/exception")["default"],g=a("./handlebars/utils"),h=a("./handlebars/runtime"),i=function(){var a=new d.HandlebarsEnvironment;return g.extend(a,d),a.SafeString=e,a.Exception=f,a.Utils=g,a.VM=h,a.template=function(b){return h.template(b,a)},a},j=i();j.create=i,c["default"]=j},{"./handlebars/base":3,"./handlebars/exception":4,"./handlebars/runtime":5,"./handlebars/safe-string":6,"./handlebars/utils":7}],3:[function(a,b,c){"use strict";function d(a,b){this.helpers=a||{},this.partials=b||{},e(this)}function e(a){a.registerHelper("helperMissing",function(a){if(2===arguments.length)return void 0;throw new h("Missing helper: '"+a+"'")}),a.registerHelper("blockHelperMissing",function(b,c){var d=c.inverse||function(){},e=c.fn;return m(b)&&(b=b.call(this)),b===!0?e(this):b===!1||null==b?d(this):l(b)?b.length>0?a.helpers.each(b,c):d(this):e(b)}),a.registerHelper("each",function(a,b){var c,d=b.fn,e=b.inverse,f=0,g="";if(m(a)&&(a=a.call(this)),b.data&&(c=q(b.data)),a&&"object"==typeof a)if(l(a))for(var h=a.length;h>f;f++)c&&(c.index=f,c.first=0===f,c.last=f===a.length-1),g+=d(a[f],{data:c});else for(var i in a)a.hasOwnProperty(i)&&(c&&(c.key=i,c.index=f,c.first=0===f),g+=d(a[i],{data:c}),f++);return 0===f&&(g=e(this)),g}),a.registerHelper("if",function(a,b){return m(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||g.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})}),a.registerHelper("with",function(a,b){return m(a)&&(a=a.call(this)),g.isEmpty(a)?void 0:b.fn(a)}),a.registerHelper("log",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)})}function f(a,b){p.log(a,b)}var g=a("./utils"),h=a("./exception")["default"],i="1.3.0";c.VERSION=i;var j=4;c.COMPILER_REVISION=j;var k={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};c.REVISION_CHANGES=k;var l=g.isArray,m=g.isFunction,n=g.toString,o="[object Object]";c.HandlebarsEnvironment=d,d.prototype={constructor:d,logger:p,log:f,registerHelper:function(a,b,c){if(n.call(a)===o){if(c||b)throw new h("Arg not supported with multiple helpers");g.extend(this.helpers,a)}else c&&(b.not=c),this.helpers[a]=b},registerPartial:function(a,b){n.call(a)===o?g.extend(this.partials,a):this.partials[a]=b}};var p={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(a,b){if(p.level<=a){var c=p.methodMap[a];"undefined"!=typeof console&&console[c]&&console[c].call(console,b)}}};c.logger=p,c.log=f;var q=function(a){var b={};return g.extend(b,a),b};c.createFrame=q},{"./exception":4,"./utils":7}],4:[function(a,b,c){"use strict";function d(a,b){var c;b&&b.firstLine&&(c=b.firstLine,a+=" - "+c+":"+b.firstColumn);for(var d=Error.prototype.constructor.call(this,a),f=0;f<e.length;f++)this[e[f]]=d[e[f]];c&&(this.lineNumber=c,this.column=b.firstColumn)}var e=["description","fileName","lineNumber","message","name","number","stack"];d.prototype=new Error,c["default"]=d},{}],5:[function(a,b,c){"use strict";function d(a){var b=a&&a[0]||1,c=l;if(b!==c){if(c>b){var d=m[c],e=m[b];throw new k("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new k("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function e(a,b){if(!b)throw new k("No environment passed to template");var c=function(a,c,d,e,f,g){var h=b.VM.invokePartial.apply(this,arguments);if(null!=h)return h;if(b.compile){var i={helpers:e,partials:f,data:g};return f[c]=b.compile(a,{data:void 0!==g},b),f[c](d,i)}throw new k("The partial "+c+" could not be compiled when running in runtime-only mode")},d={escapeExpression:j.escapeExpression,invokePartial:c,programs:[],program:function(a,b,c){var d=this.programs[a];return c?d=g(a,b,c):d||(d=this.programs[a]=g(a,b)),d},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c={},j.extend(c,b),j.extend(c,a)),c},programWithDepth:b.VM.programWithDepth,noop:b.VM.noop,compilerInfo:null};return function(c,e){e=e||{};var f,g,h=e.partial?e:b;e.partial||(f=e.helpers,g=e.partials);var i=a.call(d,h,c,f,g,e.data);return e.partial||b.VM.checkRevision(d.compilerInfo),i}}function f(a,b,c){var d=Array.prototype.slice.call(arguments,3),e=function(a,e){return e=e||{},b.apply(this,[a,e.data||c].concat(d))};return e.program=a,e.depth=d.length,e}function g(a,b,c){var d=function(a,d){return d=d||{},b(a,d.data||c)};return d.program=a,d.depth=0,d}function h(a,b,c,d,e,f){var g={partial:!0,helpers:d,partials:e,data:f};if(void 0===a)throw new k("The partial "+b+" could not be found");return a instanceof Function?a(c,g):void 0}function i(){return""}var j=a("./utils"),k=a("./exception")["default"],l=a("./base").COMPILER_REVISION,m=a("./base").REVISION_CHANGES;c.checkRevision=d,c.template=e,c.programWithDepth=f,c.program=g,c.invokePartial=h,c.noop=i},{"./base":3,"./exception":4,"./utils":7}],6:[function(a,b,c){"use strict";function d(a){this.string=a}d.prototype.toString=function(){return""+this.string},c["default"]=d},{}],7:[function(a,b,c){"use strict";function d(a){return i[a]||"&amp;"}function e(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])}function f(a){return a instanceof h?a.toString():a||0===a?(a=""+a,k.test(a)?a.replace(j,d):a):""}function g(a){return a||0===a?n(a)&&0===a.length?!0:!1:!0}var h=a("./safe-string")["default"],i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=/[&<>"'`]/g,k=/[&<>"'`]/;c.extend=e;var l=Object.prototype.toString;c.toString=l;var m=function(a){return"function"==typeof a};m(/x/)&&(m=function(a){return"function"==typeof a&&"[object Function]"===l.call(a)});var m;c.isFunction=m;var n=Array.isArray||function(a){return a&&"object"==typeof a?"[object Array]"===l.call(a):!1};c.isArray=n,c.escapeExpression=f,c.isEmpty=g},{"./safe-string":6}],8:[function(a,b){b.exports=a("./dist/cjs/handlebars.runtime")},{"./dist/cjs/handlebars.runtime":2}],9:[function(a,b){b.exports=a("handlebars/runtime")["default"]},{"handlebars/runtime":8}],10:[function(a,b){function c(a){if(!a||"[object Object]"!==e.call(a)||a.nodeType||a.setInterval)return!1;var b=d.call(a,"constructor"),c=d.call(a.constructor.prototype,"isPrototypeOf");if(a.constructor&&!b&&!c)return!1;var f;for(f in a);return void 0===f||d.call(a,f)}var d=Object.prototype.hasOwnProperty,e=Object.prototype.toString;b.exports=function f(){var a,b,d,e,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;for("boolean"==typeof i&&(l=i,i=arguments[1]||{},j=2),"object"!=typeof i&&"function"!=typeof i&&(i={});k>j;j++)if(null!=(a=arguments[j]))for(b in a)d=i[b],e=a[b],i!==e&&(l&&e&&(c(e)||(g=Array.isArray(e)))?(g?(g=!1,h=d&&Array.isArray(d)?d:[]):h=d&&c(d)?d:{},i[b]=f(l,h,e)):void 0!==e&&(i[b]=e));return i}},{}],11:[function(a,b){(function(c){function d(a){function b(){return h=3e4,j=c.setTimeout(a.checkConnection,h),a.isConnected()||(a.trigger("reconnected"),g=!0),f()}function d(){return h=3e3,j=c.setTimeout(a.checkConnection,h),a.isConnected()&&(a.trigger("disconnected"),g=!1),e()}var g=!0,h=3e4,i=null,j=null;a.checkConnection=function(){var e=i,f="/?hoodieId="+a.id();return e&&"pending"===e.state()?e:(c.clearTimeout(j),i=a.request("GET",f).then(b,d))},a.isConnected=function(){return g}}var e=a("../utils/promise/reject"),f=a("../utils/promise/resolve");b.exports=d}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/promise/reject":25,"../utils/promise/resolve":27}],12:[function(a,b){function c(a){function b(b,c){return c=c||{},e(c,{name:b}),d(a,c)}a.open=b}var d=a("../lib/store/remote"),e=a("extend");b.exports=c},{"../lib/store/remote":19,extend:10}],13:[function(a,b){function c(a){function b(b,d,f){var g,j,k;return f=f||{},g={type:b,dataType:"json"},/^http/.test(d)||(d=(a.baseUrl||"")+i+d),/^http/.test(d)&&(g.xhrFields={withCredentials:!0},g.crossDomain=!0),g.url=d,j=h(e(g,f)),k=j.then(null,c),k.abort=j.abort,k}function c(b){var c;try{c=g(b)}catch(d){c=b.responseText?b.responseText:{name:"HoodieConnectionError",message:"Could not connect to Hoodie server at {{url}}.",url:a.baseUrl||"/"}}return f(c).promise()}function g(a){var b=JSON.parse(a.responseText);return b.name=j[a.status],b.name||(b.name=d(b.error)),b.status=a.status,b.message=b.reason||"",b.message=b.message.charAt(0).toUpperCase()+b.message.slice(1),delete b.error,delete b.reason,b}var h=$.ajax,i="/_api",j={400:"HoodieRequestError",401:"HoodieUnauthorizedError",403:"HoodieRequestError",404:"HoodieNotFoundError",409:"HoodieConflictError",412:"HoodieConflictError",500:"HoodieServerError"};a.request=b}var d=a("../utils/hoodiefy_request_error_name"),e=a("extend"),f=a("../utils/promise/reject_with");b.exports=c},{"../utils/hoodiefy_request_error_name":22,"../utils/promise/reject_with":26,extend:10}],14:[function(a,b){function c(a){"string"==typeof a&&(a={message:a}),a.message||(a.message="Something went wrong"),a.name||(a.name="HoodieError"),a.message=a.message.replace(d,function(b){var c=b.match(e)[0];return a[c]}),f(this,a)}var d=/\{\{\s*\w+\s*\}\}/g,e=/\w+/,f=a("extend");c.prototype=new Error,c.prototype.constructor=c,b.exports=c},{extend:10}],15:[function(a,b){function c(a){return a.name="HoodieObjectIdError",a.message='"{{id}}" is invalid object id. {{rules}}.',new d(a)}var d=a("./error"),e=/^[a-z0-9\-]+$/;c.isInvalid=function(a,b){return!(b||e).test(a||"")},c.isValid=function(a,b){return(b||e).test(a||"")},c.prototype.rules="Lowercase letters, numbers and dashes allowed only. Must start with a letter",b.exports=c},{"./error":14}],16:[function(a,b){function c(a){return a.name="HoodieObjectTypeError",a.message='"{{type}}" is invalid object type. {{rules}}.',new d(a)}var d=a("./error"),e=/^[a-z$][a-z0-9]+$/;c.isInvalid=function(a,b){return!(b||e).test(a||"")},c.isValid=function(a,b){return(b||e).test(a||"")},c.prototype.rules="lowercase letters, numbers and dashes allowed only. Must start with a letter",b.exports=c},{"./error":14}],17:[function(a,b){function c(a,b){function c(b,c){var d,e,f,g;for(d=b.split(" "),f=0,g=d.length;g>f;f++)e=h+d[f],a.eventsCallbacks[e]=a.eventsCallbacks[e]||[],a.eventsCallbacks[e].push(c)}function d(b,c){b=h+b;var d=function(){a.unbind(b,d),c.apply(null,arguments)};a.bind(b,d)}function e(){var b,c,d,e,f,g;if(b=1<=arguments.length?Array.prototype.slice.call(arguments,0):[],d=b.shift(),d=h+d,e=a.eventsCallbacks[d]){for(f=0,g=e.length;g>f;f++)c=e[f],c.apply(null,b);return!0}}function f(b,c){var d,e,f,g,i,j;if(!b)return h||(a.eventsCallbacks={}),j=Object.keys(a.eventsCallbacks),j=j.filter(function(a){return 0===a.indexOf(h)}),void j.forEach(function(b){delete a.eventsCallbacks[b]});if(b=h+b,f=a.eventsCallbacks[b]){if(!c)return void delete a.eventsCallbacks[b];for(e=g=0,i=f.length;i>g;e=++g)if(d=f[e],d===c){f=f.slice(),f.splice(e,1),a.eventsCallbacks[b]=f;break}}}var g=a,h="";b=b||{},a.eventsCallbacks||(a.eventsCallbacks={}),b.context&&(g=b.context,h=b.namespace+":"),g.bind=c,g.on=c,g.one=d,g.trigger=e,g.unbind=f,g.off=f}b.exports=c},{}],18:[function(a,b){function c(a,b){function c(a){return i(a,o)}var n={},o={hoodie:a},p=b.name||"store",q=function u(c,e){var f=i(!0,{type:c,id:e},b);return d(a,u,f)};if(e(a,{context:q,namespace:p}),q.validate=b.validate,b.validate||(q.validate=function(a){if(!a)return new f({name:"InvalidObjectError",message:"No object passed."});if(g.isInvalid(a.type,s))return new g({type:a.type,rules:t});if(a.id)return h.isInvalid(a.id,s)?new h({id:a.id,rules:t}):void 0}),q.save=function(a,b,d,e){e=e?i(!0,{},e):{};var f=i(!0,{},d,{type:a,id:b}),g=q.validate(f,e||{});return g?k(g):c(n.save(f,e||{}))},q.add=function(a,b,c){return void 0===b&&(b={}),c=c||{},q.save(a,b.id,b,c)},q.find=function(a,b){return c(n.find(a,b))},q.findOrAdd=function(a,b,d){function e(){var c;return c=i(!0,{id:b},d),q.add(a,c)}null===d&&(d={});var f=q.find(a,b).then(null,e);return c(f)},q.findAll=function(a,b){return c(n.findAll(a,b))},q.update=function(a,b,d,e){function f(c){var f,g,h;return g=i(!0,{},c),"function"==typeof d&&(d=d(g)),d?(f=function(){var a=[];for(var b in d)if(d.hasOwnProperty(b)){if(h=d[b],c[b]!==h==!1)continue;g[b]=h,a.push(b)}return a}(),f.length||e?q.save(a,b,g,e):l(g)):l(c)}var g=q.find(a,b).then(f);return c(g)},q.updateOrAdd=function(a,b,d,e){function f(){var c=i(!0,{},d,{id:b});return q.add(a,c,e)}var g=q.update(a,b,d,e).then(null,f);return c(g)},q.updateAll=function(a,b,d){var e;switch(d=d||{},!0){case"string"==typeof a:e=q.findAll(a);break;case m(a):e=a;break;case $.isArray(a):e=j().resolve(a).promise();break;default:e=q.findAll()}return e=e.then(function(a){var c,e;return $.isArray(a)||(a=[a]),e=function(){var e,f,g;for(g=[],e=0,f=a.length;f>e;e++)c=a[e],g.push(q.update(c.type,c.id,b,d));return g}(),$.when.apply(null,e)}),c(e)},q.remove=function(a,b,d){return c(n.remove(a,b,d||{}))},q.removeAll=function(a,b){return c(n.removeAll(a,b||{}))},q.decoratePromises=function(a){return i(o,a)},!b.backend)throw new Error("options.backend must be passed");var r="save find findAll remove removeAll".split(" ");r.forEach(function(a){if(!b.backend[a])throw new Error("options.backend."+a+" must be passed.");n[a]=b.backend[a]});var s=/^[^\/]+$/,t="/ not allowed";return q}var d=a("./scoped"),e=a("../events"),f=a("../error/error"),g=a("../error/object_type"),h=a("../error/object_id"),i=a("extend"),j=a("../../utils/promise/defer"),k=a("../../utils/promise/reject_with"),l=a("../../utils/promise/resolve_with"),m=a("../../utils/promise/is_promise");b.exports=c},{"../../utils/promise/defer":23,"../../utils/promise/is_promise":24,"../../utils/promise/reject_with":26,"../../utils/promise/resolve_with":28,"../error/error":14,"../error/object_id":15,"../error/object_type":16,"../events":17,"./scoped":20,extend:10}],19:[function(a,b){(function(c){function d(a,b){function d(a){return"function"==typeof z?z(a):z=a}function i(a){var b,c;c=f({},a);for(b in c)if(c.hasOwnProperty(b)){if(-1!==F.indexOf(b))continue;if(!/^_/.test(b))continue;delete c[b]}return c._id=""+c.type+"/"+c.id,w.prefix&&(c._id=""+w.prefix+c._id),delete c.id,c}function j(a){var b,c;return b=a._id||a.id,delete a._id,w.prefix&&(b=b.replace(y,"")),c=b.match(/([^\/]+)\/(.*)/),a.type=c[1],a.id=c[2],a}function k(a){return a.map(j)}function l(a){var b,c,d,e;try{e=a._rev.split(/-/),c=e[0],b=e[1]}catch(f){}return c=parseInt(c,10)||0,d=m(),a._$local&&(d+="-local"),a._rev=""+(c+1)+"-"+d,a._revisions={start:1,ids:[d]},b?(a._revisions.start+=c,a._revisions.ids.push(b)):void 0}function m(){return g(9)}function n(a){return a.rows.map(function(a){return a.doc})}function o(){var a;return a=w.getSinceNr(),w.isConnected()&&!A?"/_changes?include_docs=true&since="+a+"&heartbeat=10000&feed=longpoll":"/_changes?include_docs=true&since="+a}function p(){B&&B.abort()}function q(a){return d(a.last_seq),u(a.results),w.isConnected()?w.pull():void 0}function r(b,d){if(w.isConnected())switch(b.status){case 401:return w.trigger("error:unauthenticated",d),w.disconnect();case 404:return c.setTimeout(w.pull,3e3);case 500:return w.trigger("error:server",d),c.setTimeout(w.pull,3e3),a.checkConnection();default:return"abort"===b.statusText?w.pull():(c.setTimeout(w.pull,3e3),a.checkConnection())}}function s(){A=!1,w.trigger("bootstrap:end")}function t(a){A=!1,w.trigger("bootstrap:error",a)}function u(a){var b,c,d,e,f;for(e=0,f=a.length;f>e;e++)if(b=a[e].doc,!w.prefix||0===b._id.indexOf(w.prefix)){if(d=j(b),d._deleted){if(!w.isKnownObject(d))continue;c="remove",w.isKnownObject(d)}else w.isKnownObject(d)?c="update":(c="add",w.markAsKnownObject(d));w.trigger(c,d),w.trigger(c+":"+d.type,d),w.trigger(c+":"+d.type+":"+d.id,d),w.trigger("change",c,d),w.trigger("change:"+d.type,c,d),w.trigger("change:"+d.type+":"+d.id,c,d)}}var v={};v.find=function(a,b){var c;return c=a+"/"+b,w.prefix&&(c=w.prefix+c),c="/"+encodeURIComponent(c),w.request("GET",c).then(j)},v.findAll=function(a){var b,c,d;switch(c="/_all_docs?include_docs=true",!0){case void 0!==a&&""!==w.prefix:d=w.prefix+a+"/";break;case void 0!==a:d=a+"/";break;case""!==w.prefix:d=w.prefix;break;default:d=""}return d&&(b=d.replace(/.$/,function(a){var b;return b=a.charCodeAt(0),String.fromCharCode(b+1)}),c=""+c+'&startkey="'+encodeURIComponent(d)+'"&endkey="'+encodeURIComponent(b)+'"'),w.request("GET",c).then(n).then(k)},v.save=function(a){var b;return a.id||(a.id=g()),a=i(a),b="/"+encodeURIComponent(a._id),w.request("PUT",b,{data:a})},v.remove=function(a,b){return w.update(a,b,{_deleted:!0})},v.removeAll=function(a){return w.updateAll(a,{_deleted:!0})};var w=e(a,{name:b.name,backend:{save:v.save,find:v.find,findAll:v.findAll,remove:v.remove,removeAll:v.removeAll}}),x=null;w.connected=!1,w.prefix="";var y=new RegExp("^");void 0!==b.name&&(x=b.name),void 0!==b.prefix&&(w.prefix=b.prefix,y=new RegExp("^"+w.prefix)),null!==b.baseUrl&&(w.baseUrl=b.baseUrl),w.request=function(b,c,d){return d=d||{},x&&(c="/"+encodeURIComponent(x)+c),w.baseUrl&&(c=""+w.baseUrl+c),d.contentType=d.contentType||"application/json",("POST"===b||"PUT"===b)&&(d.dataType=d.dataType||"json",d.processData=d.processData||!1,d.data=JSON.stringify(d.data)),a.request(b,c,d)},w.isKnownObject=function(a){var b=""+a.type+"/"+a.id;return void 0!==E[b]?E[b]:void 0},w.markAsKnownObject=function(a){var b=""+a.type+"/"+a.id;return E[b]=1,E[b]},w.connect=function(a){return a&&(x=a),w.connected=!0,w.trigger("connect"),w.bootstrap().then(function(){w.push()})},w.disconnect=function(){w.connected=!1,w.trigger("disconnect"),B&&B.abort(),D&&D.abort()},w.isConnected=function(){return w.connected};var z=b.since||0;w.getSinceNr=function(){return"function"==typeof z?z():z};var A=!1;w.bootstrap=function(){return A=!0,w.trigger("bootstrap:start"),w.pull().done(s).fail(t)};var B,C;w.pull=function(){return B=w.request("GET",o()),w.isConnected()&&(c.clearTimeout(C),C=c.setTimeout(p,25e3)),B.done(q).fail(r)};var D;w.push=function(a){var b,c,d,e;if($.isArray(a)||(a=G()),0===a.length)return h([]);for(c=[],d=0,e=a.length;e>d;d++)b=f(!0,{},a[d]),l(b),b=i(b),c.push(b);return D=w.request("POST","/_bulk_docs",{data:{docs:c,new_edits:!1}}),D.done(function(){for(var b=0;b<a.length;b++)w.trigger("push",a[b])}),D},w.sync=function(a){return w.push(a).then(w.pull)};var E={},F=["_id","_rev","_deleted","_revisions","_attachments"],G=function(){return[]};if(b.defaultObjectsToPush&&(G=$.isArray(b.defaultObjectsToPush)?function(){return b.defaultObjectsToPush}:b.defaultObjectsToPush),b.knownObjects)for(var H=0;H<b.knownObjects.length;H++)w.markAsKnownObject({type:b.knownObjects[H].type,id:b.knownObjects[H].id});return w}var e=a("./api"),f=a("extend"),g=a("../../utils/generate_id"),h=a("../../utils/promise/resolve_with");b.exports=d}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/generate_id":21,"../../utils/promise/resolve_with":28,"./api":18,extend:10}],20:[function(a,b){function c(a,b,c){var e=c.name||"store",f=c.type,g=c.id,h={};return g||(d(a,{context:h,namespace:e+":"+f}),h.save=function(a,c,d){return b.save(f,a,c,d)},h.add=function(a,c){return b.add(f,a,c)},h.find=function(a){return b.find(f,a)},h.findOrAdd=function(a,c){return b.findOrAdd(f,a,c)},h.findAll=function(a){return b.findAll(f,a)},h.update=function(a,c,d){return b.update(f,a,c,d)},h.updateAll=function(a,c){return b.updateAll(f,a,c)},h.remove=function(a,c){return b.remove(f,a,c)},h.removeAll=function(a){return b.removeAll(f,a)}),g&&(d(a,{context:h,namespace:e+":"+f+":"+g}),h.save=function(a,c){return b.save(f,g,a,c)},h.find=function(){return b.find(f,g)},h.update=function(a,c){return b.update(f,g,a,c)},h.remove=function(a){return b.remove(f,g,a)}),h.decoratePromises=b.decoratePromises,h.validate=b.validate,h}var d=a("../events");b.exports=c},{"../events":17}],21:[function(a,b){function c(a){var b="";for(void 0===a&&(a=7),e=0;a>e;e++){var c=Math.random()*f,g=d[Math.floor(c)];b+=String(g).charAt(0)}return b}var d,e,f;d="0123456789abcdefghijklmnopqrstuvwxyz".split(""),f=d.length,b.exports=c},{}],22:[function(a,b){function c(a){return a=a.replace(d,function(a){return(a[1]||a[0]).toUpperCase()}),"Hoodie"+a+"Error"}var d=/(^\w|_\w)/g;b.exports=c},{}],23:[function(a,b){(function(a){b.exports=a.jQuery.Deferred}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],24:[function(a,b){function c(a){return!(!a||"function"!=typeof a.done||"function"==typeof a.resolve)}b.exports=c},{}],25:[function(a,b){function c(){return d().reject().promise()}var d=a("./defer");b.exports=c},{"./defer":23}],26:[function(a,b){function c(a){var b=new e(a);return d().reject(b).promise()}var d=a("./defer"),e=a("../../lib/error/error");b.exports=c},{"../../lib/error/error":14,"./defer":23}],27:[function(a,b){function c(){return d().resolve().promise()}var d=a("./defer");b.exports=c},{"./defer":23}],28:[function(a,b){function c(){var a=d();return a.resolve.apply(a,arguments).promise()}var d=a("./defer");b.exports=c},{"./defer":23}],29:[function(a,b){function c(a){var b=this;if(!(b instanceof c))throw new Error("usage: new HoodieAdmin(url);");b.baseUrl=a?a.replace(/\/+$/,""):"",b.extend=function(a){a(b)},b.extend(k),b.extend(e),b.extend(f),b.extend(g),b.extend(h),b.extend(i),b.extend(j),d(c)}function d(a){for(var b=0;b<l.length;b++)l[b](a)}var e=a("hoodie/src/hoodie/request"),f=a("hoodie/src/hoodie/open"),g=a("hoodie/src/hoodie/connection"),h=a("./hoodie.admin/account"),i=a("./hoodie.admin/plugin"),j=a("./hoodie.admin/user"),k=a("hoodie/src/lib/events"),l=[];c.extend=function(a){l.push(a)},b.exports=c},{"./hoodie.admin/account":30,"./hoodie.admin/plugin":31,"./hoodie.admin/user":32,"hoodie/src/hoodie/connection":11,"hoodie/src/hoodie/open":12,"hoodie/src/hoodie/request":13,"hoodie/src/lib/events":17}],30:[function(a,b){function c(a){function b(a){return a.userCtx.name?e(a.userCtx.name):(c.trigger("unauthenticated"),f())}var c={},h=null;d(a,{context:c,namespace:"account"}),c.authenticate=function(){return a.request("GET","/_session").then(b)},c.signIn=function(b){var d={data:{name:g,password:b}};return a.request("POST","/_session",d).done(function(){h=!0,c.trigger("signin",g)})},c.signOut=function(){return a.request("DELETE","/_session").done(function(){return h=!1,c.trigger("signout")})},c.isSignedIn=function(){return h},a.account=c}var d=a("hoodie/src/lib/events"),e=a("hoodie/src/utils/promise/resolve_with"),f=a("hoodie/src/utils/promise/reject"),g="admin";b.exports=c},{"hoodie/src/lib/events":17,"hoodie/src/utils/promise/reject":25,"hoodie/src/utils/promise/resolve_with":28}],31:[function(a,b){function c(a){a.plugins=a.open("plugins"),a.plugins.connect()}b.exports=c},{}],32:[function(a,b){function c(a){var b="org.couchdb.user:",c=a.open("_users",{prefix:b});c.search=function(c){var d=b+"user/",e=encodeURIComponent(d+c),f=encodeURIComponent(d+c+"|");return a.user.request("GET",'/_all_docs?include_docs=true&startkey="'+e+'"&endkey="'+f+'"').then(function(a){return a.rows.map(function(a){var b=a.doc;return b.id=b.name.split("/").pop(),b})})},a.user=c}b.exports=c},{}],33:[function(a,b){(function(c){(function(d){function e(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw new Error("Implement me")}}function f(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function g(a,b){function c(){pb.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}var d=!0;return m(function(){return d&&(c(),d=!1),b.apply(this,arguments)},b)}function h(a,b){return function(c){return p(a.call(this,c),b)}}function i(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function j(){}function k(a){C(a),m(this,a)}function l(a){var b=v(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._bubble()}function m(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return b.hasOwnProperty("toString")&&(a.toString=b.toString),b.hasOwnProperty("valueOf")&&(a.valueOf=b.valueOf),a}function n(a){var b,c={};for(b in a)a.hasOwnProperty(b)&&Db.hasOwnProperty(b)&&(c[b]=a[b]);return c}function o(a){return 0>a?Math.ceil(a):Math.floor(a)}function p(a,b,c){for(var d=""+Math.abs(a),e=a>=0;d.length<b;)d="0"+d;return(e?c?"+":"":"-")+d}function q(a,b,c,d){var e=b._milliseconds,f=b._days,g=b._months;d=null==d?!0:d,e&&a._d.setTime(+a._d+e*c),f&&kb(a,"Date",jb(a,"Date")+f*c),g&&ib(a,jb(a,"Month")+g*c),d&&pb.updateOffset(a,f||g)}function r(a){return"[object Array]"===Object.prototype.toString.call(a)}function s(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function t(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&x(a[d])!==x(b[d]))&&g++;return g+f}function u(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=ec[a]||fc[b]||b}return a}function v(a){var b,c,d={};for(c in a)a.hasOwnProperty(c)&&(b=u(c),b&&(d[b]=a[c]));return d}function w(a){var b,c;if(0===a.indexOf("week"))b=7,c="day";else{if(0!==a.indexOf("month"))return;b=12,c="month"}pb[a]=function(e,f){var g,h,i=pb.fn._lang[a],j=[];if("number"==typeof e&&(f=e,e=d),h=function(a){var b=pb().utc().set(c,a);return i.call(pb.fn._lang,b,e||"")},null!=f)return h(f);for(g=0;b>g;g++)j.push(h(g));return j}}function x(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function y(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function z(a,b,c){return eb(pb([a,11,31+b-c]),b,c).week}function A(a){return B(a)?366:365}function B(a){return a%4===0&&a%100!==0||a%400===0}function C(a){var b;a._a&&-2===a._pf.overflow&&(b=a._a[wb]<0||a._a[wb]>11?wb:a._a[xb]<1||a._a[xb]>y(a._a[vb],a._a[wb])?xb:a._a[yb]<0||a._a[yb]>23?yb:a._a[zb]<0||a._a[zb]>59?zb:a._a[Ab]<0||a._a[Ab]>59?Ab:a._a[Bb]<0||a._a[Bb]>999?Bb:-1,a._pf._overflowDayOfYear&&(vb>b||b>xb)&&(b=xb),a._pf.overflow=b)}function D(a){return null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&a._pf.overflow<0&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length)),a._isValid}function E(a){return a?a.toLowerCase().replace("_","-"):a}function F(a,b){return b._isUTC?pb(a).zone(b._offset||0):pb(a).local()}function G(a,b){return b.abbr=a,Cb[a]||(Cb[a]=new j),Cb[a].set(b),Cb[a]}function H(a){delete Cb[a]}function I(b){var c,d,e,f,g=0,h=function(b){if(!Cb[b]&&Eb)try{a("./lang/"+b)}catch(c){}return Cb[b]};if(!b)return pb.fn._lang;if(!r(b)){if(d=h(b))return d;b=[b]}for(;g<b.length;){for(f=E(b[g]).split("-"),c=f.length,e=E(b[g+1]),e=e?e.split("-"):null;c>0;){if(d=h(f.slice(0,c).join("-")))return d;if(e&&e.length>=c&&t(f,e,!0)>=c-1)break;c--}g++}return pb.fn._lang}function J(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function K(a){var b,c,d=a.match(Ib);for(b=0,c=d.length;c>b;b++)d[b]=kc[d[b]]?kc[d[b]]:J(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function L(a,b){return a.isValid()?(b=M(b,a.lang()),gc[b]||(gc[b]=K(b)),gc[b](a)):a.lang().invalidDate()}function M(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Jb.lastIndex=0;d>=0&&Jb.test(a);)a=a.replace(Jb,c),Jb.lastIndex=0,d-=1;return a}function N(a,b){var c,d=b._strict;switch(a){case"Q":return Ub;case"DDDD":return Wb;case"YYYY":case"GGGG":case"gggg":return d?Xb:Mb;case"Y":case"G":case"g":return Zb;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return d?Yb:Nb;case"S":if(d)return Ub;case"SS":if(d)return Vb;case"SSS":if(d)return Wb;case"DDD":return Lb;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Pb;case"a":case"A":return I(b._l)._meridiemParse;case"X":return Sb;case"Z":case"ZZ":return Qb;case"T":return Rb;case"SSSS":return Ob;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return d?Vb:Kb;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Kb;case"Do":return Tb;default:return c=new RegExp(W(V(a.replace("\\","")),"i"))}}function O(a){a=a||"";var b=a.match(Qb)||[],c=b[b.length-1]||[],d=(c+"").match(cc)||["-",0,0],e=+(60*d[1])+x(d[2]);return"+"===d[0]?-e:e}function P(a,b,c){var d,e=c._a;switch(a){case"Q":null!=b&&(e[wb]=3*(x(b)-1));break;case"M":case"MM":null!=b&&(e[wb]=x(b)-1);break;case"MMM":case"MMMM":d=I(c._l).monthsParse(b),null!=d?e[wb]=d:c._pf.invalidMonth=b;break;case"D":case"DD":null!=b&&(e[xb]=x(b));break;case"Do":null!=b&&(e[xb]=x(parseInt(b,10)));break;case"DDD":case"DDDD":null!=b&&(c._dayOfYear=x(b));break;case"YY":e[vb]=pb.parseTwoDigitYear(b);break;case"YYYY":case"YYYYY":case"YYYYYY":e[vb]=x(b);break;case"a":case"A":c._isPm=I(c._l).isPM(b);break;case"H":case"HH":case"h":case"hh":e[yb]=x(b);break;case"m":case"mm":e[zb]=x(b);break;case"s":case"ss":e[Ab]=x(b);break;case"S":case"SS":case"SSS":case"SSSS":e[Bb]=x(1e3*("0."+b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=O(b);break;case"dd":case"ddd":case"dddd":d=I(c._l).weekdaysParse(b),null!=d?(c._w=c._w||{},c._w.d=d):c._pf.invalidWeekday=b;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":a=a.substr(0,1);case"gggg":case"GGGG":case"GGGGG":a=a.substr(0,2),b&&(c._w=c._w||{},c._w[a]=x(b));break;case"gg":case"GG":c._w=c._w||{},c._w[a]=pb.parseTwoDigitYear(b)}}function Q(a){var b,c,d,f,g,h,i,j;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(g=1,h=4,c=e(b.GG,a._a[vb],eb(pb(),1,4).year),d=e(b.W,1),f=e(b.E,1)):(j=I(a._l),g=j._week.dow,h=j._week.doy,c=e(b.gg,a._a[vb],eb(pb(),g,h).year),d=e(b.w,1),null!=b.d?(f=b.d,g>f&&++d):f=null!=b.e?b.e+g:g),i=fb(c,d,f,h,g),a._a[vb]=i.year,a._dayOfYear=i.dayOfYear
}function R(a){var b,c,d,f,g=[];if(!a._d){for(d=T(a),a._w&&null==a._a[xb]&&null==a._a[wb]&&Q(a),a._dayOfYear&&(f=e(a._a[vb],d[vb]),a._dayOfYear>A(f)&&(a._pf._overflowDayOfYear=!0),c=ab(f,0,a._dayOfYear),a._a[wb]=c.getUTCMonth(),a._a[xb]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=g[b]=d[b];for(;7>b;b++)a._a[b]=g[b]=null==a._a[b]?2===b?1:0:a._a[b];a._d=(a._useUTC?ab:_).apply(null,g),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()+a._tzm)}}function S(a){var b;a._d||(b=v(a._i),a._a=[b.year,b.month,b.day,b.hour,b.minute,b.second,b.millisecond],R(a))}function T(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function U(a){if(a._f===pb.ISO_8601)return void Y(a);a._a=[],a._pf.empty=!0;var b,c,d,e,f,g=I(a._l),h=""+a._i,i=h.length,j=0;for(d=M(a._f,g).match(Ib)||[],b=0;b<d.length;b++)e=d[b],c=(h.match(N(e,a))||[])[0],c&&(f=h.substr(0,h.indexOf(c)),f.length>0&&a._pf.unusedInput.push(f),h=h.slice(h.indexOf(c)+c.length),j+=c.length),kc[e]?(c?a._pf.empty=!1:a._pf.unusedTokens.push(e),P(e,c,a)):a._strict&&!c&&a._pf.unusedTokens.push(e);a._pf.charsLeftOver=i-j,h.length>0&&a._pf.unusedInput.push(h),a._isPm&&a._a[yb]<12&&(a._a[yb]+=12),a._isPm===!1&&12===a._a[yb]&&(a._a[yb]=0),R(a),C(a)}function V(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function W(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function X(a){var b,c,d,e,g;if(0===a._f.length)return a._pf.invalidFormat=!0,void(a._d=new Date(0/0));for(e=0;e<a._f.length;e++)g=0,b=m({},a),b._pf=f(),b._f=a._f[e],U(b),D(b)&&(g+=b._pf.charsLeftOver,g+=10*b._pf.unusedTokens.length,b._pf.score=g,(null==d||d>g)&&(d=g,c=b));m(a,c||b)}function Y(a){var b,c,d=a._i,e=$b.exec(d);if(e){for(a._pf.iso=!0,b=0,c=ac.length;c>b;b++)if(ac[b][1].exec(d)){a._f=ac[b][0]+(e[6]||" ");break}for(b=0,c=bc.length;c>b;b++)if(bc[b][1].exec(d)){a._f+=bc[b][0];break}d.match(Qb)&&(a._f+="Z"),U(a)}else a._isValid=!1}function Z(a){Y(a),a._isValid===!1&&(delete a._isValid,pb.createFromInputFallback(a))}function $(a){var b=a._i,c=Fb.exec(b);b===d?a._d=new Date:c?a._d=new Date(+c[1]):"string"==typeof b?Z(a):r(b)?(a._a=b.slice(0),R(a)):s(b)?a._d=new Date(+b):"object"==typeof b?S(a):"number"==typeof b?a._d=new Date(b):pb.createFromInputFallback(a)}function _(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function ab(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function bb(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function cb(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function db(a,b,c){var d=ub(Math.abs(a)/1e3),e=ub(d/60),f=ub(e/60),g=ub(f/24),h=ub(g/365),i=d<hc.s&&["s",d]||1===e&&["m"]||e<hc.m&&["mm",e]||1===f&&["h"]||f<hc.h&&["hh",f]||1===g&&["d"]||g<=hc.dd&&["dd",g]||g<=hc.dm&&["M"]||g<hc.dy&&["MM",ub(g/30)]||1===h&&["y"]||["yy",h];return i[2]=b,i[3]=a>0,i[4]=c,cb.apply({},i)}function eb(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=pb(a).add("d",f),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function fb(a,b,c,d,e){var f,g,h=ab(a,0,1).getUTCDay();return h=0===h?7:h,c=null!=c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:A(a-1)+g}}function gb(a){var b=a._i,c=a._f;return null===b||c===d&&""===b?pb.invalid({nullInput:!0}):("string"==typeof b&&(a._i=b=I().preparse(b)),pb.isMoment(b)?(a=n(b),a._d=new Date(+b._d)):c?r(c)?X(a):U(a):$(a),new k(a))}function hb(a,b){var c,d;if(1===b.length&&r(b[0])&&(b=b[0]),!b.length)return pb();for(c=b[0],d=1;d<b.length;++d)b[d][a](c)&&(c=b[d]);return c}function ib(a,b){var c;return"string"==typeof b&&(b=a.lang().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),y(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function jb(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function kb(a,b,c){return"Month"===b?ib(a,c):a._d["set"+(a._isUTC?"UTC":"")+b](c)}function lb(a,b){return function(c){return null!=c?(kb(this,a,c),pb.updateOffset(this,b),this):jb(this,a)}}function mb(a){pb.duration.fn[a]=function(){return this._data[a]}}function nb(a,b){pb.duration.fn["as"+a]=function(){return+this/b}}function ob(a){"undefined"==typeof ender&&(qb=tb.moment,tb.moment=a?g("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",pb):pb)}for(var pb,qb,rb,sb="2.7.0",tb="undefined"!=typeof c?c:this,ub=Math.round,vb=0,wb=1,xb=2,yb=3,zb=4,Ab=5,Bb=6,Cb={},Db={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_tzm:null,_isUTC:null,_offset:null,_pf:null,_lang:null},Eb="undefined"!=typeof b&&b.exports,Fb=/^\/?Date\((\-?\d+)/i,Gb=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Hb=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Ib=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Jb=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Kb=/\d\d?/,Lb=/\d{1,3}/,Mb=/\d{1,4}/,Nb=/[+\-]?\d{1,6}/,Ob=/\d+/,Pb=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Qb=/Z|[\+\-]\d\d:?\d\d/gi,Rb=/T/i,Sb=/[\+\-]?\d+(\.\d{1,3})?/,Tb=/\d{1,2}/,Ub=/\d/,Vb=/\d\d/,Wb=/\d{3}/,Xb=/\d{4}/,Yb=/[+-]?\d{6}/,Zb=/[+-]?\d+/,$b=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_b="YYYY-MM-DDTHH:mm:ssZ",ac=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],bc=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],cc=/([\+\-]|\d\d)/gi,dc=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),ec={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},fc={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},gc={},hc={s:45,m:45,h:22,dd:25,dm:45,dy:345},ic="DDD w W M D d".split(" "),jc="M D H h m s w W".split(" "),kc={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return p(this.year()%100,2)},YYYY:function(){return p(this.year(),4)},YYYYY:function(){return p(this.year(),5)},YYYYYY:function(){var a=this.year(),b=a>=0?"+":"-";return b+p(Math.abs(a),6)},gg:function(){return p(this.weekYear()%100,2)},gggg:function(){return p(this.weekYear(),4)},ggggg:function(){return p(this.weekYear(),5)},GG:function(){return p(this.isoWeekYear()%100,2)},GGGG:function(){return p(this.isoWeekYear(),4)},GGGGG:function(){return p(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return x(this.milliseconds()/100)},SS:function(){return p(x(this.milliseconds()/10),2)},SSS:function(){return p(this.milliseconds(),3)},SSSS:function(){return p(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+p(x(a/60),2)+":"+p(x(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+p(x(a/60),2)+p(x(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},lc=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ic.length;)rb=ic.pop(),kc[rb+"o"]=i(kc[rb],rb);for(;jc.length;)rb=jc.pop(),kc[rb+rb]=h(kc[rb],2);for(kc.DDDD=h(kc.DDD,3),m(j.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c,d;for(this._monthsParse||(this._monthsParse=[]),b=0;12>b;b++)if(this._monthsParse[b]||(c=pb.utc([2e3,b]),d="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=new RegExp(d.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=pb([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"==typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return eb(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),pb=function(a,b,c,e){var g;return"boolean"==typeof c&&(e=c,c=d),g={},g._isAMomentObject=!0,g._i=a,g._f=b,g._l=c,g._strict=e,g._isUTC=!1,g._pf=f(),gb(g)},pb.suppressDeprecationWarnings=!1,pb.createFromInputFallback=g("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i)}),pb.min=function(){var a=[].slice.call(arguments,0);return hb("isBefore",a)},pb.max=function(){var a=[].slice.call(arguments,0);return hb("isAfter",a)},pb.utc=function(a,b,c,e){var g;return"boolean"==typeof c&&(e=c,c=d),g={},g._isAMomentObject=!0,g._useUTC=!0,g._isUTC=!0,g._l=c,g._i=a,g._f=b,g._strict=e,g._pf=f(),gb(g).utc()},pb.unix=function(a){return pb(1e3*a)},pb.duration=function(a,b){var c,d,e,f=a,g=null;return pb.isDuration(a)?f={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(f={},b?f[b]=a:f.milliseconds=a):(g=Gb.exec(a))?(c="-"===g[1]?-1:1,f={y:0,d:x(g[xb])*c,h:x(g[yb])*c,m:x(g[zb])*c,s:x(g[Ab])*c,ms:x(g[Bb])*c}):(g=Hb.exec(a))&&(c="-"===g[1]?-1:1,e=function(a){var b=a&&parseFloat(a.replace(",","."));return(isNaN(b)?0:b)*c},f={y:e(g[2]),M:e(g[3]),d:e(g[4]),h:e(g[5]),m:e(g[6]),s:e(g[7]),w:e(g[8])}),d=new l(f),pb.isDuration(a)&&a.hasOwnProperty("_lang")&&(d._lang=a._lang),d},pb.version=sb,pb.defaultFormat=_b,pb.ISO_8601=function(){},pb.momentProperties=Db,pb.updateOffset=function(){},pb.relativeTimeThreshold=function(a,b){return hc[a]===d?!1:(hc[a]=b,!0)},pb.lang=function(a,b){var c;return a?(b?G(E(a),b):null===b?(H(a),a="en"):Cb[a]||I(a),c=pb.duration.fn._lang=pb.fn._lang=I(a),c._abbr):pb.fn._lang._abbr},pb.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),I(a)},pb.isMoment=function(a){return a instanceof k||null!=a&&a.hasOwnProperty("_isAMomentObject")},pb.isDuration=function(a){return a instanceof l},rb=lc.length-1;rb>=0;--rb)w(lc[rb]);pb.normalizeUnits=function(a){return u(a)},pb.invalid=function(a){var b=pb.utc(0/0);return null!=a?m(b._pf,a):b._pf.userInvalidated=!0,b},pb.parseZone=function(){return pb.apply(null,arguments).parseZone()},pb.parseTwoDigitYear=function(a){return x(a)+(x(a)>68?1900:2e3)},m(pb.fn=k.prototype,{clone:function(){return pb(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=pb(this).utc();return 0<a.year()&&a.year()<=9999?L(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):L(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return D(this)},isDSTShifted:function(){return this._a?this.isValid()&&t(this._a,(this._isUTC?pb.utc(this._a):pb(this._a)).toArray())>0:!1},parsingFlags:function(){return m({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(a){var b=L(this,a||pb.defaultFormat);return this.lang().postformat(b)},add:function(a,b){var c;return c="string"==typeof a&&"string"==typeof b?pb.duration(isNaN(+b)?+a:+b,isNaN(+b)?b:a):"string"==typeof a?pb.duration(+b,a):pb.duration(a,b),q(this,c,1),this},subtract:function(a,b){var c;return c="string"==typeof a&&"string"==typeof b?pb.duration(isNaN(+b)?+a:+b,isNaN(+b)?b:a):"string"==typeof a?pb.duration(+b,a):pb.duration(a,b),q(this,c,-1),this},diff:function(a,b,c){var d,e,f=F(a,this),g=6e4*(this.zone()-f.zone());return b=u(b),"year"===b||"month"===b?(d=432e5*(this.daysInMonth()+f.daysInMonth()),e=12*(this.year()-f.year())+(this.month()-f.month()),e+=(this-pb(this).startOf("month")-(f-pb(f).startOf("month")))/d,e-=6e4*(this.zone()-pb(this).startOf("month").zone()-(f.zone()-pb(f).startOf("month").zone()))/d,"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:o(e)},from:function(a,b){return pb.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(pb(),a)},calendar:function(a){var b=a||pb(),c=F(b,this).startOf("day"),d=this.diff(c,"days",!0),e=-6>d?"sameElse":-1>d?"lastWeek":0>d?"lastDay":1>d?"sameDay":2>d?"nextDay":7>d?"nextWeek":"sameElse";return this.format(this.lang().calendar(e,this))},isLeapYear:function(){return B(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=bb(a,this.lang()),this.add({d:a-b})):b},month:lb("Month",!0),startOf:function(a){switch(a=u(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(a){return a=u(a),this.startOf(a).add("isoWeek"===a?"week":a,1).subtract("ms",1)},isAfter:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)>+pb(a).startOf(b)},isBefore:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)<+pb(a).startOf(b)},isSame:function(a,b){return b=b||"ms",+this.clone().startOf(b)===+F(a,this).startOf(b)},min:g("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(a){return a=pb.apply(null,arguments),this>a?this:a}),max:g("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(a){return a=pb.apply(null,arguments),a>this?this:a}),zone:function(a,b){var c=this._offset||0;return null==a?this._isUTC?c:this._d.getTimezoneOffset():("string"==typeof a&&(a=O(a)),Math.abs(a)<16&&(a=60*a),this._offset=a,this._isUTC=!0,c!==a&&(!b||this._changeInProgress?q(this,pb.duration(c-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,pb.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(a){return a=a?pb(a).zone():0,(this.zone()-a)%60===0},daysInMonth:function(){return y(this.year(),this.month())},dayOfYear:function(a){var b=ub((pb(this).startOf("day")-pb(this).startOf("year"))/864e5)+1;return null==a?b:this.add("d",a-b)},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=eb(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=eb(this,1,4).year;return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=eb(this,1,4).week;return null==a?b:this.add("d",7*(a-b))},weekday:function(a){var b=(this.day()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return z(this.year(),1,4)},weeksInYear:function(){var a=this._lang._week;return z(this.year(),a.dow,a.doy)},get:function(a){return a=u(a),this[a]()},set:function(a,b){return a=u(a),"function"==typeof this[a]&&this[a](b),this},lang:function(a){return a===d?this._lang:(this._lang=I(a),this)}}),pb.fn.millisecond=pb.fn.milliseconds=lb("Milliseconds",!1),pb.fn.second=pb.fn.seconds=lb("Seconds",!1),pb.fn.minute=pb.fn.minutes=lb("Minutes",!1),pb.fn.hour=pb.fn.hours=lb("Hours",!0),pb.fn.date=lb("Date",!0),pb.fn.dates=g("dates accessor is deprecated. Use date instead.",lb("Date",!0)),pb.fn.year=lb("FullYear",!0),pb.fn.years=g("years accessor is deprecated. Use year instead.",lb("FullYear",!0)),pb.fn.days=pb.fn.day,pb.fn.months=pb.fn.month,pb.fn.weeks=pb.fn.week,pb.fn.isoWeeks=pb.fn.isoWeek,pb.fn.quarters=pb.fn.quarter,pb.fn.toJSON=pb.fn.toISOString,m(pb.duration.fn=l.prototype,{_bubble:function(){var a,b,c,d,e=this._milliseconds,f=this._days,g=this._months,h=this._data;h.milliseconds=e%1e3,a=o(e/1e3),h.seconds=a%60,b=o(a/60),h.minutes=b%60,c=o(b/60),h.hours=c%24,f+=o(c/24),h.days=f%30,g+=o(f/30),h.months=g%12,d=o(g/12),h.years=d},weeks:function(){return o(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*x(this._months/12)},humanize:function(a){var b=+this,c=db(b,!a,this.lang());return a&&(c=this.lang().pastFuture(b,c)),this.lang().postformat(c)},add:function(a,b){var c=pb.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=pb.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=u(a),this[a.toLowerCase()+"s"]()},as:function(a){return a=u(a),this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:pb.fn.lang,toIsoString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"}});for(rb in dc)dc.hasOwnProperty(rb)&&(nb(rb,dc[rb]),mb(rb.toLowerCase()));nb("Weeks",6048e5),pb.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},pb.lang("en",{ordinal:function(a){var b=a%10,c=1===x(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),Eb?b.exports=pb:"function"==typeof define&&define.amd?(define("moment",function(a,b,c){return c.config&&c.config()&&c.config().noGlobal===!0&&(tb.moment=qb),pb}),ob(!0)):ob()}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],34:[function(a,b){"use strict";var c=a("../../../helpers/namespace"),d=a("../../../helpers/mvc/collection"),e=a("../models/plugin"),f=d.extend({url:c.request("config").api.url+"_plugins",model:e,comparator:"name"});b.exports=f},{"../../../helpers/mvc/collection":75,"../../../helpers/namespace":78,"../models/plugin":40}],35:[function(a,b){"use strict";var c=a("backbone.marionette"),d=c.$,e=a("../collections/plugins"),f=a("../models/plugin"),g=c.Controller.extend({initialize:function(a){var b=this;this.options=a||{},this.model=new f,this.collection=new e,d.when(this.collection.fetch()).done(function(){b.list()}).fail(function(){throw new Error("failed to fetch plugins")})},list:function(a){app.vent.trigger("app:plugins:list",{collection:a})}});b.exports=g},{"../collections/plugins":34,"../models/plugin":40,"backbone.marionette":"zIkc0/"}],36:[function(a,b){"use strict";var c=a("backbone.marionette"),d=a("./plugins"),e=a("./dashboard"),f=c.Controller.extend({initialize:function(a){var b=app.request("admin");this.options=a||{},b.account.authenticate()},plugins:function(a,b){new d({name:a,action:b,ns:"plugins"})},dashboard:function(){new e({ns:"dashboard"})}});b.exports=f},{"./dashboard":35,"./plugins":37,"backbone.marionette":"zIkc0/"}],37:[function(a,b){"use strict";var c=a("backbone.marionette"),d=c.$,e=a("../collections/plugins"),f=a("../models/plugin"),g=c.Controller.extend({initialize:function(b){var c=this;a("../../ui/plugins/index"),this.options=b||{},this.model=new f,this.collection=new e,d.when(this.collection.fetch()).done(function(){c.collection.remove("email"),c.show(c.collection.get(c.options.name)),app.vent.trigger("app:nav:show",{model:c.collection.get(c.options.id),collection:c.collection})}).fail(function(){throw new Error("failed to fetch plugins")})},show:function(a){app.vent.trigger("app:plugins:show",{collection:a.collection,model:a})}});b.exports=g},{"../../ui/plugins/index":71,"../collections/plugins":34,"../models/plugin":40,"backbone.marionette":"zIkc0/"}],38:[function(a,b){(function(c){"use strict";var d=a("../../../helpers/namespace"),e=a("hoodie.admin"),f=new e;c.hoodieAdmin=f,d.reqres.setHandler("admin",function(){return f}),b.exports=d}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../helpers/namespace":78,"hoodie.admin":29}],39:[function(a,b){var c=a("../../helpers/namespace"),d=a("./controllers/index");a("../structural/layout/index"),c.module("admin-dashboard",function(){"use strict";this.addInitializer(function(a){this.controller=new d(a)}),this.on("before:start",function(){var a=this;this.listenTo(c.vent,"app:plugins",function(b,c){a.controller.plugins(b,c)}),this.listenTo(c.vent,"app:dashboard",function(){a.controller.dashboard()}),this.listenTo(c.vent,"app:user:signout",function(){c.request("admin").account.signOut().done(function(){c.router.navigate("/",{trigger:!0,replace:!0})})})})}),b.exports=c},{"../../helpers/namespace":78,"../structural/layout/index":45,"./controllers/index":36}],40:[function(a,b){"use strict";var c=a("../../../helpers/mvc/model"),d=a("../../../helpers/namespace"),e=d.request("config"),f=c.extend({initialize:function(){this.setIframeUrl()},setIframeUrl:function(){var a=e.api.url+"_plugins/"+this.get("name")+"/admin-dashboard/index.html";this.set({iframeUrl:a})},defaults:{name:"",description:"",title:"",version:"",pos:"",width:"",iframeUrl:""},idAttribute:"name"});b.exports=f},{"../../../helpers/mvc/model":76,"../../../helpers/namespace":78}],41:[function(a,b){"use strict";var c=a("backbone.marionette"),d=c.Controller.extend({initialize:function(a){this.options=a||{};var b=c.Layout.extend({template:function(){return a.template}});this.container=new c.Region({el:"[data-component=content]"}),this.container.show(new b)}});b.exports=d},{"backbone.marionette":"zIkc0/"}],42:[function(a,b){var c=a("./controllers/index"),d=a("../../../helpers/namespace");d.module("admin-dashboard.content",function(){"use strict";this.addInitializer(function(b){b.app.components.sidebar.template=a("./templates/index.hbs"),this._controller=new c(b.app.components.sidebar)}),this.on("before:start",function(){d.rm.addRegions({content:"[data-component=content]",contentHeader:"[data-component=contentHeader]",contentMain:"[data-component=contentMain]",contentFooter:"[data-component=contentFooter]"})})}),b.exports=d},{"../../../helpers/namespace":78,"./controllers/index":41,"./templates/index.hbs":43}],43:[function(a,b){var c=a("hbsfy/runtime");b.exports=c.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<header data-component=contentHeader></header>\n<section  data-component=contentMain class="pluginView"></section>\n<footer data-component=contentFooter></footer>\n'})},{"hbsfy/runtime":9}],44:[function(a,b){var c=a("backbone.marionette"),d=a("underscore"),e=c.Controller.extend({initialize:function(b){b=b||{},this.options=b,d.bindAll(this,"showLogin","showApp");var e=c.Layout.extend({template:function(){return b.template}});this.container=new c.Region({el:"#content"}),this.container.show(new e),app.rm.addRegions({login:"[data-component=login]"}),a("../../../ui/login/index"),a("../../sidebar/index"),a("../../content/index"),a("../../../ui/logo/index"),a("../../../ui/navigation/index"),a("../../../ui/info/index"),a("../../../ui/app/index")},showLogin:function(){this.container.$el.attr("data-state","signed-out"),this.container.$el.find("input:visible").eq(0).focus()},showApp:function(){this.container.$el.attr("data-state","signed-in")}});b.exports=e},{"../../../ui/app/index":51,"../../../ui/info/index":54,"../../../ui/login/index":59,"../../../ui/logo/index":63,"../../../ui/navigation/index":67,"../../content/index":42,"../../sidebar/index":48,"backbone.marionette":"zIkc0/",underscore:!1}],45:[function(a,b){var c=a("./controllers/index"),d=a("../../../helpers/namespace");d.module("admin-dashboard.layout",function(){"use strict";this.addInitializer(function(b){var e,f=d.request("admin");b.app.components.layout.template=a("./templates/index.hbs"),e=new c(b.app.components.layout),f.account.on("signout",e.showLogin),f.account.on("unauthenticated",e.showLogin),f.account.on("signin",e.showApp),d.vent.on("app:plugins",e.showApp)})}),b.exports=d},{"../../../helpers/namespace":78,"./controllers/index":44,"./templates/index.hbs":46}],46:[function(a,b){var c=a("hbsfy/runtime");b.exports=c.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<section data-component="login" class="login"></section>\n<aside data-component="sidebar" class="sidebar"> </aside>\n<section data-component="content" class="content"> </section>\n'})},{"hbsfy/runtime":9}],47:[function(a,b){"use strict";var c=a("backbone.marionette"),d=c.Controller.extend({initialize:function(a){this.options=a||{};var b=c.Layout.extend({template:function(){return a.template}});this.container=new c.Region({el:"[data-component=sidebar]"}),this.container.show(new b)}});b.exports=d},{"backbone.marionette":"zIkc0/"}],48:[function(a,b){var c=a("./controllers/index"),d=a("../../../helpers/namespace");d.module("admin-dashboard.sidebar",function(){"use strict";this.addInitializer(function(b){b.app.components.sidebar.template=a("./templates/index.hbs"),this._controller=new c(b.app.components.sidebar)}),this.on("before:start",function(){d.rm.addRegions({sidebar:"[data-component=sidebar]",sidebarLogo:"[data-component=sidebarLogo]",sidebarNav:"[data-component=sidebarNav]",sidebarFooter:"[data-component=sidebarFooter]"})})}),b.exports=d},{"../../../helpers/namespace":78,"./controllers/index":47,"./templates/index.hbs":49}],49:[function(a,b){var c=a("hbsfy/runtime");b.exports=c.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<header data-component=sidebarLogo></header>\n<nav data-component=sidebarNav></nav>\n<footer data-component=sidebarFooter></footer>\n<ul class="helpers">\n  <li>Admin Dashboard guides</li>\n  <li>Hoodie</li>\n</ul>\n'})},{"hbsfy/runtime":9}],50:[function(a,b){"use strict";var c=a("backbone.marionette"),d=a("../views/index"),e=c.Controller.extend({initialize:function(a){this.options=a||{},this.view=new d({el:"html"})}});b.exports=e},{"../views/index":52,"backbone.marionette":"zIkc0/"}],51:[function(a,b){"use strict";var c=a("../../../helpers/namespace"),d=a("./controllers/index");c.module("minutes.welcome",function(){this.addInitializer(function(a){new d(a)})}),b.exports=c},{"../../../helpers/namespace":78,"./controllers/index":50}],52:[function(a,b){"use strict";var c=a("backbone.marionette"),d=a("jquery"),e=/^\/[^\/]/,f=/\.\w+$/,g=/^\?/,h=c.ItemView.extend({initialize:function(){},events:{"click a, [data-href]":"handleClickOnLink"},handleClickOnLink:function(a){var b=d(a.currentTarget),c=b.attr("href")||b.data("href");e.test(c)&&!f.test(c)&&(a.preventDefault(),app.router.navigate(c.substr(1),!0)),g.test(c)&&(a.preventDefault(),app.router.navigate(Backbone.history.fragment+c,!0))}});b.exports=h},{"backbone.marionette":"zIkc0/",jquery:"HlZQrA"}],53:[function(a,b){"use strict";var c=a("../../../../helpers/namespace"),d=a("backbone.marionette"),e=a("../views/index"),f=a("../models/time"),g=d.Controller.extend({initialize:function(a){this.options=a||{},this.model=new f,this.show(this.options)},show:function(){var a=new e({model:this.model});c.rm.get("contentHeader").show(a)}});b.exports=g},{"../../../../helpers/namespace":78,"../models/time":55,"../views/index":57,"backbone.marionette":"zIkc0/"}],54:[function(a,b){"use strict";var c=a("../../../helpers/namespace"),d=a("./controllers/index");c.module("admin-dashboard.info",function(){this.addInitializer(function(a){this._controller=new d(a)}),this.on("before:start",function(){var a=this;c.vent.on("app:info:show",function(b){a._controller.show(b)})})}),b.exports=c},{"../../../helpers/namespace":78,"./controllers/index":53}],55:[function(a,b){var c=a("backbone"),d=a("moment"),e=c.Model.extend({initialize:function(){this.set({currentTime:d().format("MMMM Do YYYY, h:mm a")})},defaults:{currentTime:""}});b.exports=e},{backbone:"5kFNoY",moment:33}],56:[function(a,b){var c=a("hbsfy/runtime");b.exports=c.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<a href="/signOut" class="signOut">Sign Out</a>\n'
})},{"hbsfy/runtime":9}],57:[function(a,b){"use strict";var c=a("backbone.marionette");a("../../../../helpers/handlebars");var d=a("../templates/index.hbs"),e=c.ItemView.extend({template:d,initialize:function(a){this.options=a||{}}});b.exports=e},{"../../../../helpers/handlebars":74,"../templates/index.hbs":56,"backbone.marionette":"zIkc0/"}],58:[function(a,b){"use strict";var c=a("backbone.marionette"),d=a("../views/index"),e=c.Controller.extend({initialize:function(a){this.options=a||{},this.view=new d({model:this.user}),this.show()},show:function(){app.rm.get("login").show(this.view)}});b.exports=e},{"../views/index":61,"backbone.marionette":"zIkc0/"}],59:[function(a,b){"use strict";var c=a("./controllers/index");app.module("admin-dashboard.login",function(){this.addInitializer(function(a){new c(a)})}),b.exports=app},{"./controllers/index":58}],60:[function(a,b){var c=a("hbsfy/runtime");b.exports=c.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<fieldset>\n  <img src="../images/hoodie_logo.svg" alt="" class="fitWidth">\n  <!-- Password input-->\n    <label for="password">Password</label>\n    <input id="password" name="password" type="password" placeholder="Password" required="">\n    <button type="submit" name="" class="btn btn-primary">Sign In</button>\n</fieldset>\n'})},{"hbsfy/runtime":9}],61:[function(a,b){"use strict";var c=a("backbone.marionette"),d=a("backbone.syphon"),e=a("underscore"),f=a("../templates/index.hbs");a("../../../../helpers/handlebars");var g=c.ItemView.extend({template:f,tagName:"form",className:"form-horizontal",initialize:function(){e.bindAll(this,"handleSignInSuccess","handleSignInError")},events:{submit:"handleSubmit"},handleSubmit:function(a){var b,c;a.preventDefault(),b=app.request("admin"),c=d.serialize(this),this.$("input[name=password]").val(""),b.account.signIn(c.password).done(this.handleSignInSuccess).fail(this.handleSignInError)},handleSignInError:function(){alert("invalid password")},handleSignInSuccess:function(){Backbone.history.navigate("plugin/appconfig",{trigger:!0})}});b.exports=g},{"../../../../helpers/handlebars":74,"../templates/index.hbs":60,"backbone.marionette":"zIkc0/","backbone.syphon":!1,underscore:!1}],62:[function(a,b){"use strict";var c=a("../../../../helpers/namespace"),d=a("backbone.marionette"),e=a("../views/index"),f=d.Controller.extend({initialize:function(a){this.options=a||{},this.options.model=new Backbone.Model({name:a.app.name}),this.show(this.options)},show:function(a){var b=new e({model:a.model});c.rm.get("sidebarLogo").show(b)}});b.exports=f},{"../../../../helpers/namespace":78,"../views/index":65,"backbone.marionette":"zIkc0/"}],63:[function(a,b){"use strict";var c=a("../../../helpers/namespace"),d=a("./controllers/index");c.module("admin-dashboard.logo",function(){this.addInitializer(function(a){this._controller=new d(a)}),this.on("before:start",function(){var a=this;c.vent.on("app:logo:show",function(b){a._controller.show(b)})})}),b.exports=c},{"../../../helpers/namespace":78,"./controllers/index":62}],64:[function(a,b){var c=a("hbsfy/runtime");b.exports=c.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<h1>\n  <a href="#">Dashboard</a>\n</h1>\n\n'})},{"hbsfy/runtime":9}],65:[function(a,b,c){arguments[4][57][0].apply(c,arguments)},{"../../../../helpers/handlebars":74,"../templates/index.hbs":64,"backbone.marionette":"zIkc0/"}],66:[function(a,b){"use strict";var c=a("../../../../helpers/namespace"),d=a("backbone.marionette"),e=a("../views/index"),f=d.Controller.extend({initialize:function(a){this.options=a||{}},show:function(a){var b=new e({collection:a.collection,model:a.model,ns:a.ns});this.showView(b)},showView:function(a){c.rm.get("sidebarNav").show(a)}});b.exports=f},{"../../../../helpers/namespace":78,"../views/index":69,"backbone.marionette":"zIkc0/"}],67:[function(a,b){"use strict";var c=a("../../../helpers/namespace"),d=a("./controllers/index");c.module("admin-dashboard.navigation",function(){this.addInitializer(function(a){this.controller=new d(a)}),this.on("before:start",function(){c.vent.on("app:nav:show",function(a){this.controller.show(a)},this)})}),b.exports=c},{"../../../helpers/namespace":78,"./controllers/index":66}],68:[function(a,b){var c=a("hbsfy/runtime");b.exports=c.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<a href="#plugin/',(g=c.name)?f=g.call(b,{hash:{},data:e}):(g=b&&b.name,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'">',(g=c.name)?f=g.call(b,{hash:{},data:e}):(g=b&&b.name,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"</a>\n"})},{"hbsfy/runtime":9}],69:[function(a,b){"use strict";var c=a("backbone.marionette"),d=a("../templates/item.hbs");a("../../../../helpers/handlebars");var e=c.ItemView.extend({tagName:"li",template:d}),f=c.CollectionView.extend({tagName:"ul",className:"pluginList",itemView:e});b.exports=f},{"../../../../helpers/handlebars":74,"../templates/item.hbs":68,"backbone.marionette":"zIkc0/"}],70:[function(a,b){"use strict";var c=a("../../../../helpers/namespace"),d=a("backbone.marionette"),e=a("../views/show"),f=d.Controller.extend({initialize:function(a){this.options=a||{}},show:function(a){var b=new e({collection:a.collection,model:a.model,ns:a.ns});this.showView(b)},showView:function(a){c.rm.get("contentMain").show(a)}});b.exports=f},{"../../../../helpers/namespace":78,"../views/show":73,"backbone.marionette":"zIkc0/"}],71:[function(a,b){"use strict";var c=a("../../../helpers/namespace"),d=a("./controllers/index");c.module("admin-dashboard.plugins",function(){this.addInitializer(function(a){this.controller=new d(a)}),this.on("before:start",function(){var a=this;c.vent.on("app:plugins:show",function(b){a.controller.show(b)})})}),b.exports=c},{"../../../helpers/namespace":78,"./controllers/index":70}],72:[function(a,b){var c=a("hbsfy/runtime");b.exports=c.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<iframe name="plugin" src="',(g=c.iframeUrl)?f=g.call(b,{hash:{},data:e}):(g=b&&b.iframeUrl,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"#",(g=c.path)?f=g.call(b,{hash:{},data:e}):(g=b&&b.path,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" frameborder="0"></iframe>\n'})},{"hbsfy/runtime":9}],73:[function(a,b){"use strict";var c=a("backbone.marionette"),d=a("underscore");a("../../../../helpers/handlebars");var e=a("../templates/show.hbs"),f=c.ItemView.extend({template:e,initialize:function(a){this.options=a||{},d.bindAll(this,"injectHoodieAdmin")},ui:{iframe:"iframe"},serializeData:function(){var a=this.model.toJSON();return a.path=Backbone.history.fragment.replace(this.currentPath(),""),a},onRender:function(){this.ui.iframe.on("load",this.injectHoodieAdmin)},injectHoodieAdmin:function(){var b=this,c=this.ui.iframe[0].contentWindow;c.require=a,c.hoodieAdmin=app.request("admin"),c.addEventListener("hashchange",function(){var a=this.location.hash.replace(/#\/?/,"");app.router.navigate(b.currentPath()+"/"+a)})},currentPath:function(){return"plugin/"+this.model.get("name")}});b.exports=f},{"../../../../helpers/handlebars":74,"../templates/show.hbs":72,"backbone.marionette":"zIkc0/",underscore:!1}],74:[function(a,b){var c=a("hbsfy/runtime");c.registerHelper("debug",function(a){"use strict";console.log("Current Context"),console.log("===================="),console.log(this),a&&(console.log("Value"),console.log("===================="),console.log(a))}),b.exports=c},{"hbsfy/runtime":9}],75:[function(a,b){"use strict";var c=a("underscore"),d=a("backbone"),e=d.SuperCollection=d.Collection.extend({next:function(a){return this.at((this.indexOf(a)+1)%c.size(this))},prev:function(a){var b=this.indexOf(a)-1;return this.at(b>-1?b:c.size(this)-1)}});b.exports=e},{backbone:"5kFNoY",underscore:!1}],76:[function(a,b){var c=(a("jquery"),a("backbone")),d=c.Model.extend({idAttribute:"name"});b.exports=d},{backbone:"5kFNoY",jquery:"HlZQrA"}],77:[function(a,b){a("barf");var c=Backbone.Router.extend({constructor:function(a){Backbone.Router.prototype.constructor.call(this,a),this.history=[],this.on("all",function(a,b){var c=a.split(":");this.storeRoute(),b&&c.push(b),c.shift(),this.current=c,this.prev=this.getPreviousRoute(),app.vent.trigger("route",this.prev,this.current)})},storeRoute:function(){return this.history.push(Backbone.history.fragment)},getPreviousRoute:function(){return this.history[this.history.length-2]},before:{"*any":function(a,b,c){var d=app.request("admin");return d.account.isSignedIn()?c():void d.account.authenticate().done(c)}}});b.exports=c},{barf:1}],78:[function(a,b){(function(c){"use strict";var d=a("backbone.marionette"),e=a("backbone"),f=a("../router"),g=a("../models/config"),h=new d.Application;h.reqres.setHandler("config",function(){return(new g).toJSON()}),h.on("initialize:before",function(a){h.router=new f,h.rm=new d.RegionManager,a.debug&&(c.app=h,h.vent.on("all",function(a){console.log(a)}))}),h.on("initialize:after",function(){e.history&&e.history.start()}),b.exports=h}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../models/config":83,"../router":84,backbone:"5kFNoY","backbone.marionette":"zIkc0/"}],79:[function(a,b){(function(c){var d=a("./storeError"),e=a("./storeSuccess"),f=a("../namespace"),g=a("jquery");f.addInitializer(function(a){"use strict";g.ajaxSetup({cache:a.ajax.cache,timeout:a.ajax.timeout,async:a.ajax.contentType}),g(c).ajaxStart(function(){f.vent.trigger("ajax:start")}),g(c).ajaxStop(function(){f.vent.trigger("ajax:stop")}),g(c).ajaxError(d),g(c).ajaxSuccess(e)}),b.exports=f}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../namespace":78,"./storeError":80,"./storeSuccess":81,jquery:"HlZQrA"}],80:[function(a,b){var c=a("jquery"),d=function(a,b){"use strict";var d=b.status+"",e=null;try{e=c.parseJSON(b.responseText)}catch(a){}var f={"default":function(){}};(f[d]?f[d]:f["default"])()};b.exports=d},{jquery:"HlZQrA"}],81:[function(a,b){var c=function(a,b,c,d){"use strict";var e=b.status+"",f={"default":function(){console.log("SUCCESS",d)}};(f[e]?f[e]:f["default"])()};b.exports=c},{}],82:[function(a,b){var c=a("./models/config"),d=a("./helpers/namespace");a("./helpers/storage/store"),a("./helpers/handlebars"),a("./components/admin-dashboard/entities/adminEntity"),a("./components/admin-dashboard/index"),d.start((new c).toJSON()),b.exports=d},{"./components/admin-dashboard/entities/adminEntity":38,"./components/admin-dashboard/index":39,"./helpers/handlebars":74,"./helpers/namespace":78,"./helpers/storage/store":79,"./models/config":83}],83:[function(a,b){var c=a("../helpers/mvc/model"),d=c.extend({defaults:{app:{name:"appname",components:{layout:{config:{}},sidebar:{config:{template:null}},content:{config:{}}}},api:{url:"/_api/"},ajax:{timeout:1e4,cache:!0,async:!0},debug:!0}});b.exports=d},{"../helpers/mvc/model":76}],84:[function(a,b){"use strict";var c=a("./helpers/mvc/router"),d=c.extend({routes:{"":"index",signIn:"signIn",signOut:"signOut","plugin/:name":"plugin","plugin/:name/*subroute":"plugin","*defaults":"index"},index:function(){this.navigate("plugin/appconfig",{trigger:!0,replace:!0})},plugin:function(a,b){app.vent.trigger("app:plugins",a,b)},signOut:function(){app.vent.trigger("app:user:signout")}});b.exports=d},{"./helpers/mvc/router":77}]},{},[82]);